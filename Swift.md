Swift复习

#swift和Objective-C比较有什么特点？

###1.Swift是面向protocol编程的语言
###2.Swift有很多新的语言特性
  - optional
  - 元组
  - 闭包
  - 强类型
  - let/var
  
###3.

#optional的本质是什么?

#open public的区别


#Swift实现类似AnyObject怎么做?


#copy-on write实现原理

#struct和class的区别？为什么要设计struct?
-  struct 是 Value Type 而 class 是 Reference Type 

> Value Type是值类型，reference type 是引用类型
> 
>值类型的变量直接包含他们的数据，而引用类型的变量存储对他们的数据引用，因此后者称为对象，因此对一个变量操作可能影响另一个变量所引用的对象。对于值类型都有他们自己的数据副本，因此对一个变量操作不可能影响另一个变量
>

- 主要的差别就是 class 在产生物件时不能很自然把 property 放在 constructor 的参数里
- 在每次做 assignment 的时候，value type 都会复制一份完整相同的内容给另一个变量，而 class 则是把记忆体的位置给变量。所以 reference type 大多会保有一份记忆体而重复利用。
- String, Array, Dictionary 都是 struct
- struct 和 class 的差别是 struct 的 function 要去改变 property 的值的时候需要加上 mutating 字样，而 class 不用这样做
-  struct 沒有 继承的功能，只有 class 有
-  定义结构体类型时其成员可以没有初始值，但是创建结构体实例时该实例的成员必须有初值

###1.枚举、结构体、类的共同点：
1，定义属性和方法；
2，下标语法访问值；
3，初始化器；
4，支持扩展增加功能；
5，可以遵循协议；

###2.类特有的功能：
1，继承；
2，允许类型转换；
3，析构方法释放资源；
4，引用计数；

###3.类是引用类型
引用类型(reference types，通常是类)被复制的时候其实复制的是一份引用，两份引用指向同一个对象。所以在修改一个实例的数据时副本的数据也被修改了(s1、s2)。

###4.枚举，结构体是值类型
值类型(value types)的每一个实例都有一份属于自己的数据，在复制时修改一个实例的数据并不影响副本的数据(p1、p2)。值类型和引用类型是这三兄弟最本质的区别。

###5.我该如何选择
关于在新建一个类型时如何选择到底是使用值类型还是引用类型的问题其实在理解了两者之间的区别后是非常简单的，在这苹果官方已经做出了非常明确的指示（以下内容引自苹果官方文档）：

> 当你使用Cocoa框架的时候，很多API都要通过NSObject的子类使用，所以这>时候必须要用到引用类型class。在其他情况下，有下面几个准则：

- 什么时候该用值类型：

> 要用==运算符来比较实例的数据时

> 你希望那个实例的拷贝能保持独立的状态时

> 数据会被多个线程使用时

- 什么时候该用引用类型（class）：

> 要用==运算符来比较实例身份的时候

> 你希望有创建一个共享的、可变对象的时候

#Any\AnyObject\AnyClass
Any是一个空协议集合的别名，它表示没有实现任何协议，因此它可以是任何类型，包括类实例与结构体实例。
AnyObject是一个成员为空的协议，任何对象都实现了这个协议。
AnyClass是AnyObject.Type的别名而已。 